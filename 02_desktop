#!/usr/bin/env bash

echo -e "\nInstalling Desktop Environment\n"

PKGS=(
  'plasma'                  # desktop environment

  # Desktop environment base programs
  'dolphin'                 # file explorer
  'ark'                     # (de)compression tool
  'gwenview'                # image viewer
  'kate'                    # text editor
  'okular'                  # document viewer
  'kcalc'                   # calculator
  'spectacle'               # screenshots
  'kcolorchooser'           # color chooser
  'deluge'                  # torrents
  'redshift'                # screen color temperature adjuster
  'vlc'                     # video player
  'cantata'                 # music player
  'kcron'
  'khelpcenter'
  'ksystemlog'
  'ktimer'
  'kfind'
  'kdialog'
  'openvpn'
  'networkmanager-openvpn'
  'kwallet-pam'
  'kwalletmanager'
  'gnome-keyring'
  'libsecret'

  # bluetooth
  'bluez'
  'bluez-utils'
  'pipewire'
  'pipewire-alsa'
  'pipewire-jack'
  'pipewire-bluetooth'

  # browsers
  'firefox'
  'vivaldi'
  'vivaldi-ffmpeg-codecs'

  # office suite
  'libreoffice-fresh'
  'hunspell-en_US'
  'hunspell-es_pe'
  'hyphen-en'
  'hyphen-es'
)

DEPS=(
  'mpd'                     # music player daemon
)

for PKG in "${PKGS[@]}"; do
  sudo pacman -S "$PKG" --noconfirm --needed
done

for DEP in "${DEPS[@]}"; do
  sudo pacman -S "$DEP" --noconfirm --needed --asdeps
done

sudo systemctl enable sddm.service
sudo systemctl enable bluetooth.service

curl -fsSL https://starship.rs/install.sh | bash

echo -e "\nDONE!\n"
